
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì˜ì•”ì´ˆ í™˜ê²½ ëŒ€ì‹œë³´ë“œ</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #e6f7ff;
      text-align: center;
    }
    header {
      background-color: #4fc3f7;
      color: white;
      padding: 1rem;
      font-size: 1.8rem;
      font-weight: bold;
    }
    .sub-header {
      font-size: 1rem;
      color: #333;
      margin-top: 5px;
    }
    .timestamp {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 10px;
    }
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin: 20px;
    }
    .card {
      background: white;
      border-radius: 20px;
      width: 180px;
      height: 120px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .card h3 {
      margin: 0;
      font-size: 1rem;
      color: #333;
    }
    .value {
      font-size: 1.6rem;
      font-weight: bold;
    }
    .status {
      font-size: 1.2rem;
      margin-top: 3px;
    }
    canvas {
      max-width: 90%;
      margin: 20px auto;
    }
    .character-box {
      position: absolute;
      bottom: 30px;
      right: 30px;
      font-size: 1.2rem;
      background-color: #fff8e1;
      padding: 10px 15px;
      border-radius: 20px;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <header>ğŸŒ¤ï¸ ì˜ì•”ì´ˆ ì‹¤ì‹œê°„ í™˜ê²½ ëŒ€ì‹œë³´ë“œ</header>
  <div class="sub-header">ì§€ê¸ˆì€ ì˜ì•”êµ°ì˜ ê³µê¸° ìƒíƒœë¥¼ ë³´ê³  ìˆì–´ìš”!</div>
  <div class="timestamp" id="timestamp">ë°ì´í„° ìˆ˜ì§‘ ì‹œê°„: --</div>

  <div class="card-container">
    <div class="card"><h3>ğŸŒ¡ï¸ ì˜¨ë„</h3><div class="value" id="temp">-- â„ƒ</div><div class="status" id="tempStatus">ğŸ˜Š</div></div>
    <div class="card"><h3>ğŸ’§ ìŠµë„</h3><div class="value" id="humi">-- %</div><div class="status" id="humiStatus">ğŸ˜Š</div></div>
    <div class="card"><h3>ğŸŒ«ï¸ ë¯¸ì„¸ë¨¼ì§€</h3><div class="value" id="pm10">-- Î¼g/mÂ³</div><div class="status" id="pm10Status">ğŸ˜</div></div>
    <div class="card"><h3>ğŸŒ«ï¸ ì´ˆë¯¸ì„¸ë¨¼ì§€</h3><div class="value" id="pm25">-- Î¼g/mÂ³</div><div class="status" id="pm25Status">ğŸ˜</div></div>
  </div>

  <h3 style="color:#333;">ğŸ“Š ì´ˆë¯¸ì„¸ë¨¼ì§€ ì‹¤ì‹œê°„ ë³€í™” ê·¸ë˜í”„</h3>
  <canvas id="pm25Chart" width="600" height="300"></canvas>

  <div class="character-box">ğŸ‘§ ì˜¤ëŠ˜ì€ ê³µê¸°ê°€ ê¹¨ë—í•´ìš”! ì•¼ì™¸ í™œë™í•˜ê¸° ì¢‹ì•„ìš” ğŸŒ±</div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      function updateTimestamp() {
        const now = new Date();
        document.getElementById("timestamp").textContent =
          "ë°ì´í„° ìˆ˜ì§‘ ì‹œê°„: " + now.toLocaleString("ko-KR", { timeZone: "Asia/Seoul" });
      }

      function statusText(value, good, normal, bad) {
        if (value <= good) return "ğŸ˜Š ì¢‹ìŒ";
        if (value <= normal) return "ğŸ˜ ë³´í†µ";
        return "ğŸ˜· ë‚˜ì¨";
      }

      const labels = [];
      const data = [];
      const chart = new Chart(document.getElementById("pm25Chart").getContext("2d"), {
        type: "line",
        data: {
          labels: labels,
          datasets: [{
            label: "PM2.5 (Î¼g/mÂ³)",
            data: data,
            borderColor: "#4fc3f7",
            backgroundColor: "rgba(79,195,247,0.2)",
            fill: true,
            tension: 0.3,
            pointRadius: 2
          }]
        },
        options: {
          animation: false,
          scales: {
            y: { beginAtZero: true, suggestedMax: 100 }
          }
        }
      });

      function updateData() {
        const temp = 20 + Math.random() * 10;
        const humi = 40 + Math.random() * 30;
        const pm10 = 30 + Math.random() * 50;
        const pm25 = 15 + Math.random() * 35;

        document.getElementById("temp").textContent = temp.toFixed(1) + " â„ƒ";
        document.getElementById("tempStatus").textContent = statusText(temp, 25, 30, 100);
        document.getElementById("humi").textContent = humi.toFixed(1) + " %";
        document.getElementById("humiStatus").textContent = statusText(humi, 40, 60, 100);
        document.getElementById("pm10").textContent = pm10.toFixed(1) + " Î¼g/mÂ³";
        document.getElementById("pm10Status").textContent = statusText(pm10, 30, 80, 200);
        document.getElementById("pm25").textContent = pm25.toFixed(1) + " Î¼g/mÂ³";
        document.getElementById("pm25Status").textContent = statusText(pm25, 15, 35, 200);

        const now = new Date();
        const label = now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');
        labels.push(label);
        data.push(pm25.toFixed(1));
        if (labels.length > 24) { labels.shift(); data.shift(); }
        chart.update();
        updateTimestamp();
      }

      updateData();
      setInterval(updateData, 5000);
    });
  </script>
</body>
</html>
